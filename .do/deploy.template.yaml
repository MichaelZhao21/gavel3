spec:
  alerts:
  - rule: DEPLOYMENT_FAILED
  - rule: DOMAIN_FAILED
  features:
  - buildpack-stack=ubuntu-22
  ingress:
    rules:
    - component:
        name: jury
      match:
        path:
          prefix: /
  name: jury
  region: nyc
  services:
  - name: jury-service
  - dockerfile_path: Dockerfile
    envs:
    - key: JURY_NAME
      scope: RUN_AND_BUILD_TIME
    - key: JURY_ADMIN_PASSWORD
      scope: RUN_AND_BUILD_TIME
      type: SECRET
    - key: MONGODB_URI
      scope: RUN_AND_BUILD_TIME
      type: SECRET
    - key: EMAIL_HOST
      scope: RUN_AND_BUILD_TIME
    - key: EMAIL_PORT
      scope: RUN_AND_BUILD_TIME
    - key: EMAIL_FROM
      scope: RUN_AND_BUILD_TIME
    - key: EMAIL_PASSWORD
      scope: RUN_AND_BUILD_TIME
      type: SECRET
    git:
      branch: master
      repo: https://github.com/acmutd/jury.git
  